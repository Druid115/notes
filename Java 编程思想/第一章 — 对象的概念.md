### 第一章 — 对象的概念

#### 抽象

抽象是从众多的事物中抽取出共同的、本质性的特征，而舍弃其非本质的特征的过程。给问题建立模型就是一种抽象。

编语言、”命令式“语言（如 FORTRAN，BASIC 和 C）它们的抽象原理依然要求我们着重考虑计算机的结构，而非问题本身的结构。面向对象的程序设计允许我们根据问题来描述问题，而不是根据运行解决方案的计算机。

- **万物皆对象**
- **程序是一组对象，通过消息传递来告知彼此该做什么**
- **每个对象都有自己的存储空间，可容纳其他对象**
- **每个对象都有一种类型**
- **同一类所有对象都能接收相同的消息**

面向对象思想的实质：程序可以通过添加新类型的对象使自身适用于某个特定的问题。一个对象具有自己的状态，行为和标识。这意味着对象有自己的内部数据（提供状态）、方法 （产生行为），并彼此区分（每个对象在内存中都有唯一的地址）。



#### 服务提供

软件设计的基本原则是高内聚：每个组件的内部作用明确，功能紧密相关。



#### 复用

组合和聚合都属于关联关系的一种，只是额外具有整体—部分的意义。至于是聚合还是组合，需要根据实际的业务需求来判断。可能相同超类和子类，在不同的业务场景，关联关系会发生变化。只看代码是无法区分聚合和组合的，具体是哪一种关系，只能从语义级别来区分。聚合关系中，整件不会拥有部件的生命周期，所以整件删除时，部件不会被删除。再者，多个整件可以共享同一个部件。组合关系中，整件拥有部件的生命周期，所以整件删除时，部件一定会跟着删除。而且，多个整件不可以同时共享同一个部件。两个类生命周期不同步，则是聚合关系，生命周期同步就是组合关系。



#### 继承

在创建了一个类之后，即使另一个新类与其具有相似的功能，你还是得重新创建一个新类。但我们若能利用现成的数据类型，对其进行“克隆”，再根据情况进行添加和修改，情况就显得理想多了。”继承”正是针对这个目标而设计的。但继承并不完全等价于克隆。

- **is-a**：继承只覆盖基类的方法，基类和派生类就是相同的类型了，可以用一个派生类对象完全替代基类对象，这叫作"纯粹替代"，也经常被称作"替代原则"。
- **is-like-a**：派生类添加了新的接口元素，从而扩展接口。虽然新类型仍然可以替代基类，但是这种替代不完美，原因在于基类无法访问新添加的方法。



#### 多态

非面向对象编程的编译器调用函数：生成对特定函数名的调用，该调用会被解析为将执行的代码的绝对地址。

面向对象编程的编译器调用函数：当向对象发送消息时，被调用的代码直到运行时才能确定。编译器确保被调用的方法的存在，并对调用参数和返回值执行类型检查（无法提供此类保证的语言被称为是弱类型的），但并不知道将被执行的确切代码。

发送消息给对象时，如果程序不知道接收的具体类型是什么，但最终执行是正确的，这就是对象的“多态性”（Polymorphism）。面向对象的程序设计语言是通过“动态绑定”的方式来实现对象的多态性的。编译器和运行时系统会负责对所有细节的控制；我们只需知道要做什么，以及如何利用多态性来更好地设计程序。



#### 单继承结构

单根继承结构保证所有对象都具备某些功能。所有对象都可以很容易地在堆上创建，而参数传递也得到了极大地简化。

单根继承结构使垃圾回收器的实现变得容易得多。由于所有对象都保证具有其类型信息，因此不会因无法确定对象类型而陷入僵局。