## 线程的状态

### 操作系统中的线程状态

操作系统线程主要有以下三个状态： 

- 就绪状态（ready）：线程正在等待使用 CPU，经调度程序调用之后可进入 running 状态。
- 执行状态（running）：线程正在使用 CPU。
- 等待状态（waiting）：线程等待某些事件的完成或者正在等待其他资源（如 I/O）。



### Java 线程的状态

~~~java
// Thread.State
public enum State {
    NEW,
    RUNNABLE,
    BLOCKED,
    WAITING,
    TIMED_WAITING,
    TERMINATED;
}
~~~

NEW：线程此时尚未启动，指的是还没调用 Thread 实例的 `start()` 方法。

RUNNABLE：运行状态，处于该状态的线程也有可能在等待其他系统资源（比如 I/O）。

BLOCKED：阻塞状态，处于该状态的线程正等待锁的释放以进⼊同步区。

WAITING：等待状态，处于该状态的线程变成 RUNNABLE 状态需要其他线程唤醒。调用如下 3 个方法会使线程进⼊等待状态：

- `Object.wait()`：使当前线程处于等待状态直到另⼀个线程唤醒它；
- `Thread.join()`：等待线程执行完毕，底层调用的是 Object 实例的 `wait()` 方法；
- `LockSupport.park()`：除非获得调用许可，否则禁用当前线程进行线程调度。



